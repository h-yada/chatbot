{"filter":false,"title":"app.js","tooltip":"/app.js","undoManager":{"mark":7,"position":7,"stack":[[{"start":{"row":42,"column":11},"end":{"row":42,"column":15},"action":"remove","lines":["3000"],"id":2},{"start":{"row":42,"column":11},"end":{"row":42,"column":12},"action":"insert","lines":["8"]},{"start":{"row":42,"column":12},"end":{"row":42,"column":13},"action":"insert","lines":["0"]},{"start":{"row":42,"column":13},"end":{"row":42,"column":14},"action":"insert","lines":["8"]},{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"insert","lines":["0"]}],[{"start":{"row":0,"column":0},"end":{"row":59,"column":0},"action":"remove","lines":["","/**"," * Module dependencies."," */","","// Client","  // Server","  var log = console.log;","","var express = require('express');","","var app = module.exports = express.createServer();","","// Configuration","","app.configure(function(){","  app.set('views', __dirname + '/views');","  app.set('view engine', 'ejs');","  app.use(express.bodyParser());","  app.use(express.methodOverride());","  app.use(express.cookieParser());","  app.use(express.session({ secret: 'your secret here' }));","  app.use(app.router);","  app.use(express.static(__dirname + '/public'));","});","","app.configure('development', function(){","  app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); ","});","","app.configure('production', function(){","  app.use(express.errorHandler()); ","});","","// Routes","","app.get('/', function(req, res){","  res.render('index', {","    title: 'Express'","  });","});","","app.listen(8080);","console.log(\"Express server listening on port %d in %s mode\", app.address().port, app.settings.env);","","var io = require('socket.io').listen(app);","","","io.sockets.on('connection', function (socket) { // 2","  log('connected');","  socket.on('msg send', function (msg) { // 4","    socket.emit('msg push', msg); // 5","    socket.broadcast.emit('msg push', msg); // 6","  });","  socket.on('disconnect', function() { // 9","    log('disconnected');","  });","});","",""],"id":3},{"start":{"row":0,"column":0},"end":{"row":6,"column":77},"action":"insert","lines":["const express = require('express')","const app = express()","const port = 3000","","app.get('/', (req, res) => res.send('Hello World!'))","","app.listen(port, () => console.log(`Example app listening on port ${port}!`))"]}],[{"start":{"row":2,"column":13},"end":{"row":2,"column":17},"action":"remove","lines":["3000"],"id":4},{"start":{"row":2,"column":13},"end":{"row":2,"column":14},"action":"insert","lines":["8"]},{"start":{"row":2,"column":14},"end":{"row":2,"column":15},"action":"insert","lines":["0"]},{"start":{"row":2,"column":15},"end":{"row":2,"column":16},"action":"insert","lines":["8"]},{"start":{"row":2,"column":16},"end":{"row":2,"column":17},"action":"insert","lines":["0"]}],[{"start":{"row":0,"column":0},"end":{"row":6,"column":77},"action":"remove","lines":["const express = require('express')","const app = express()","const port = 8080","","app.get('/', (req, res) => res.send('Hello World!'))","","app.listen(port, () => console.log(`Example app listening on port ${port}!`))"],"id":5},{"start":{"row":0,"column":0},"end":{"row":8,"column":2},"action":"insert","lines":["let server = require(\"http\").createServer((req, res)=>{","    res.writeHead(200, {'Content-Type': 'text/plane'})","    res.write('Hello')","    res.end()","})","","server.listen(process.env.PORT, process.env.IP, ()=>{","    console.log(\"server\")","})"]}],[{"start":{"row":0,"column":0},"end":{"row":8,"column":2},"action":"remove","lines":["let server = require(\"http\").createServer((req, res)=>{","    res.writeHead(200, {'Content-Type': 'text/plane'})","    res.write('Hello')","    res.end()","})","","server.listen(process.env.PORT, process.env.IP, ()=>{","    console.log(\"server\")","})"],"id":6},{"start":{"row":0,"column":0},"end":{"row":9,"column":2},"action":"insert","lines":["let express = require(\"express\")","let app = express()","","app.get('/', (req, res)=>{","    res.send(\"Hello, World\")","})","","app.listen(process.env.PORT, ()=>{","    console.log(\"Server listening\")","})"]}],[{"start":{"row":0,"column":0},"end":{"row":9,"column":2},"action":"remove","lines":["let express = require(\"express\")","let app = express()","","app.get('/', (req, res)=>{","    res.send(\"Hello, World\")","})","","app.listen(process.env.PORT, ()=>{","    console.log(\"Server listening\")","})"],"id":7},{"start":{"row":0,"column":0},"end":{"row":9,"column":2},"action":"insert","lines":["let express = require(\"express\")","let app = express()","","app.get('/', (req, res)=>{","    res.sendFile(__dirname + '/views/index.html') // この行を変更","})","","app.listen(process.env.PORT, ()=>{","    console.log(\"Server listening\")","})"]}],[{"start":{"row":0,"column":0},"end":{"row":9,"column":2},"action":"remove","lines":["let express = require(\"express\")","let app = express()","","app.get('/', (req, res)=>{","    res.sendFile(__dirname + '/views/index.html') // この行を変更","})","","app.listen(process.env.PORT, ()=>{","    console.log(\"Server listening\")","})"],"id":8},{"start":{"row":0,"column":0},"end":{"row":18,"column":2},"action":"insert","lines":["let express = require('express')","let http = require('http')","let app = express()","let server = http.createServer(app)","let io = require('socket.io').listen(server);","","app.use(express.static(__dirname))","","server.listen(process.env.PORT);","","app.get('/', (req, res)=> {","    res.sendFile(__dirname + '/views/index.html');","});","","io.sockets.on('connection', (socket)=>{","    socket.on('eventA', (eventData)=>{","        io.sockets.emit('eventB', {msg: eventData.message})","    })","})"]}],[{"start":{"row":0,"column":0},"end":{"row":18,"column":2},"action":"remove","lines":["let express = require('express')","let http = require('http')","let app = express()","let server = http.createServer(app)","let io = require('socket.io').listen(server);","","app.use(express.static(__dirname))","","server.listen(process.env.PORT);","","app.get('/', (req, res)=> {","    res.sendFile(__dirname + '/views/index.html');","});","","io.sockets.on('connection', (socket)=>{","    socket.on('eventA', (eventData)=>{","        io.sockets.emit('eventB', {msg: eventData.message})","    })","})"],"id":9},{"start":{"row":0,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["let express = require('express')","let http = require('http')","let app = express()","let server = http.createServer(app)","let io = require('socket.io').listen(server);","","app.use(express.static(__dirname))","","server.listen(process.env.PORT);","","app.get('/', (req, res)=> {","    res.sendFile(__dirname + '/views/index.html');","});","","io.sockets.on('connection', (socket)=>{","    socket.on('message', (data)=>{","        io.sockets.emit(\"message\",","        {","            msg: data.message,","            name: data.name","        })","    })","})"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":0},"end":{"row":13,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1564571453044,"hash":"0dd8fb56ac3e7f569d58f43b44638e183b5c3109"}